{
    "track_id": "semantic_search_polling_20260222",
    "title": "Async Polling for Semantic Search via External Microservice",
    "type": "feature",
    "status": "planned",
    "created": "2026-02-22",
    "updated": "2026-02-22",
    "priority": "high",
    "estimated_phases": 3,
    "completed_phases": 0,
    "completion_percentage": 0,
    "dependencies": [
        "ai_intelligence_layer_20260219"
    ],
    "owners": [],
    "tags": [
        "search",
        "polling",
        "async",
        "pinecone",
        "voyage-ai",
        "microservice"
    ],
    "business_impact": {
        "type": "performance_and_capability",
        "description": "Bypass Wix's 14-second HTTP timeout limitation for real-time recruiter searches by moving semantic inference to the Node.js Railway microservice and polling from the frontend."
    },
    "architecture_constraint": "Wix Velo limits frontend-to-backend calls to 14 seconds. Heavy semantic matching with Voyage AI and Pinecone often exceeds this. The solution is an async polling architecture: Wix calls Velo -> Velo triggers Railway -> Railway works -> Wix frontend polls Velo until results are cached and ready.",
    "phases": {
        "1": {
            "name": "Backend Search Job Kickoff & Caching",
            "priority": "yes",
            "framework": "Wix Data Cache + Velo fetch",
            "description": "Create Velo endpoints to accept a search request, generate a UUID Job ID, trigger the Railway /v1/search endpoint asynchronously, and immediately return the Job ID."
        },
        "2": {
            "name": "Railway Callback & Cache Hydration",
            "priority": "yes",
            "framework": "Railway Microservice + Wix HTTP Functions",
            "description": "Modify the Railway semantic search routes to accept a callback URL or utilize a Wix HTTP function to push the completed search results back to the Wix database/cache against the associated Job ID."
        },
        "3": {
            "name": "Frontend Async Polling Loop",
            "priority": "yes",
            "framework": "Wix Page Code / HTML Bridges",
            "description": "Update the recruiter search UI (e.g. driver-search-logic.js) to accept the Job ID, enter a continuous 3-second polling loop, and render the results seamlessly once the data is hydrated."
        }
    },
    "metrics": {
        "target_search_timeout_errors": "0 timeouts on complex semantic queries",
        "target_user_experience": "Smooth loading animation that handles >14s queries gracefully"
    }
}