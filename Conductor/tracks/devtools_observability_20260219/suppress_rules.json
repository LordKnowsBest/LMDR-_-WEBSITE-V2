{
  "_version": "1.0",
  "_description": "Console message patterns that are known-OK in Wix/Velo environment. Suppressed entries are logged but don't count toward P0/P1 failure thresholds.",
  "rules": [
    {
      "id": "wix-hydration",
      "pattern": "hydrat",
      "type": "substring",
      "reason": "Wix Thunderbolt React hydration warnings — cosmetic, not functional (KW-004)",
      "severity_override": null,
      "suppress_from_p_count": true
    },
    {
      "id": "wix-internal-deprecation",
      "pattern": "DeprecationWarning.*wix",
      "type": "regex",
      "reason": "Wix platform internal deprecation notices — outside LMDR control",
      "severity_override": "P2",
      "suppress_from_p_count": true
    },
    {
      "id": "third-party-cookie",
      "pattern": "third-party cookie",
      "type": "substring",
      "reason": "Chrome third-party cookie deprecation warning — browser-level, not app-level",
      "severity_override": null,
      "suppress_from_p_count": true
    },
    {
      "id": "source-map-warning",
      "pattern": "DevTools failed to load source map",
      "type": "substring",
      "reason": "Missing source maps for minified Wix bundles — expected in production",
      "severity_override": null,
      "suppress_from_p_count": true
    },
    {
      "id": "wix-analytics",
      "pattern": "frog\\.wix\\.com",
      "type": "regex",
      "reason": "Wix analytics/telemetry endpoint errors — outside LMDR control",
      "severity_override": null,
      "suppress_from_p_count": true
    },
    {
      "id": "wix-bo-errors",
      "pattern": "bo\\.wix\\.com",
      "type": "regex",
      "reason": "Wix business-objects endpoint errors — outside LMDR control",
      "severity_override": null,
      "suppress_from_p_count": true
    },
    {
      "id": "parastorage-404",
      "pattern": "static\\.parastorage\\.com.*404",
      "type": "regex",
      "reason": "Wix CDN 404 for optional assets — cosmetic",
      "severity_override": "P2",
      "suppress_from_p_count": true
    },
    {
      "id": "recaptcha-error",
      "pattern": "recaptcha",
      "type": "substring",
      "reason": "Google reCAPTCHA loading errors in non-form pages — expected",
      "severity_override": null,
      "suppress_from_p_count": true
    },
    {
      "id": "meta-pixel-unavailable",
      "pattern": "Meta pixel.*is unavailable",
      "type": "regex",
      "reason": "Meta pixel traffic permission settings — third-party, not LMDR code (discovered first run)",
      "severity_override": null,
      "suppress_from_p_count": true
    },
    {
      "id": "tailwind-cdn-production",
      "pattern": "cdn.tailwindcss.com should not be used in production",
      "type": "substring",
      "reason": "Known pattern — Tailwind CDN is the current deployment method for Wix iframes",
      "severity_override": null,
      "suppress_from_p_count": true
    },
    {
      "id": "wix-preload-resource",
      "pattern": "was preloaded using link preload but not used",
      "type": "substring",
      "reason": "Wix Thunderbolt preload optimization — outside LMDR control (discovered first run)",
      "severity_override": null,
      "suppress_from_p_count": true
    },
    {
      "id": "react-i18n-warning",
      "pattern": "react-i18next.*old wait option",
      "type": "regex",
      "reason": "Wix platform internal React i18n migration warning (discovered on 404 pages)",
      "severity_override": null,
      "suppress_from_p_count": true
    }
  ],
  "url_allowlist": {
    "_description": "Only report network failures from these domains. Everything else is Wix internal traffic.",
    "include": [
      "lastmiledr.app",
      "_functions/",
      "airtable.com",
      "cdn.jsdelivr.net/gh/LordKnowsBest"
    ],
    "exclude": [
      "wix.com",
      "parastorage.com",
      "wixstatic.com",
      "wixmedia.com",
      "frog.wix.com",
      "bo.wix.com",
      "google-analytics.com",
      "googletagmanager.com"
    ]
  }
}
