{
  "track_id": "ai_intelligence_layer_20260219",
  "title": "AI Intelligence Layer - Claude Agent Runtime, Semantic Search, Streaming & B2B Parallel Research",
  "type": "feature",
  "status": "in_progress",
  "created": "2026-02-19",
  "updated": "2026-02-19",
  "priority": "high",
  "estimated_phases": 4,
  "completed_phases": 1,
  "completion_percentage": 25,
  "dependencies": [
    "full_agentic_buildout_20260218",
    "reverse_matching_20251225",
    "b2b_business_development_suite_20260128",
    "agentService.jsw",
    "aiRouterService.jsw",
    "driverScoring.js",
    "b2bResearchAgentService.jsw"
  ],
  "owners": [],
  "tags": [
    "ai",
    "claude-agent-sdk",
    "agent-runtime",
    "provider-adapter",
    "semantic-search",
    "rag",
    "vector-search",
    "streaming",
    "multi-agent",
    "b2b",
    "langsmith",
    "microservice"
  ],
  "business_impact": {
    "type": "matching_quality_and_agent_capability",
    "description": "Deliver a Claude Agent SDK-first runtime layer with semantic retrieval, lower-latency streaming UX, and parallel B2B research while preserving Wix orchestration and enabling future provider adapters."
  },
  "architecture_constraint": "Wix Velo is not a full Node.js runtime. Provider SDK runtime logic must run in an external microservice called via fetch() from .jsw modules. Velo remains orchestration/auth; the runtime service owns provider adapters, streaming, semantic tools, and research fan-out.",
  "phases": {
    "1": {
      "name": "Claude Runtime Foundation + Contracts",
      "priority": "yes",
      "framework": "Claude Agent SDK + provider adapter interface",
      "description": "Stand up AI runtime microservice with canonical endpoints, request/response schemas, and tested fallback to legacy handleAgentTurn."
    },
    "2": {
      "name": "Semantic Search as Agent Tools",
      "priority": "yes",
      "framework": "Pinecone + embedding service + Wix wrappers",
      "description": "Add semantic embed/search endpoints and integrate semantic blend safely into driver matching/scoring with feature flags and rollback behavior."
    },
    "3": {
      "name": "Streaming Agent Responses",
      "priority": "low",
      "framework": "Claude runtime stream events + Wix relay",
      "description": "Stream runtime chunks/events to HTML components with stable event contract and fallback if direct relay is unstable."
    },
    "4": {
      "name": "B2B Parallel Research via Runtime Fan-Out",
      "priority": "maybe",
      "framework": "Runtime tool fan-out + synthesis layer",
      "description": "Replace sequential B2B research with parallel source fan-out and structured synthesis while preserving response compatibility."
    }
  },
  "metrics": {
    "target_match_relevance_improvement": ">= 20% click-through lift on semantic vs filter results",
    "target_runtime_trace_coverage": "100% of external runtime turns correlated to Wix trace IDs",
    "target_streaming_ttft": "< 800ms time-to-first-token on agent responses",
    "target_b2b_research_latency": "< 15s for full company intelligence report (parallel vs 45s+ sequential)"
  }
}
