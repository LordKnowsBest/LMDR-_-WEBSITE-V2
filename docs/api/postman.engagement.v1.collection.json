{
  "info": {
    "name": "LMDR Engagement APIs v1",
    "_postman_id": "8485995f-fb91-4ca0-83c8-a8c80af202d4",
    "description": "Focused collection for enterprise engagement endpoints.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "https://www.lastmiledr.app/_functions/api_gateway" },
    { "key": "apiKey", "value": "lmdr_live_replace_me" },
    { "key": "userId", "value": "u_123" }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [{ "key": "token", "value": "{{apiKey}}", "type": "string" }]
  },
  "item": [
    {
      "name": "User Progress",
      "request": {
        "method": "GET",
        "url": "{{baseUrl}}/v1/engagement/user/{{userId}}/progress?user_type=driver"
      }
    },
    {
      "name": "Award XP",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "body": { "mode": "raw", "raw": "{\n  \"user_id\": \"u_123\",\n  \"user_type\": \"driver\",\n  \"action\": \"training_complete\",\n  \"xp_amount\": 50,\n  \"metadata\": {\"source\": \"lms\"}\n}" },
        "url": "{{baseUrl}}/v1/engagement/xp/award"
      }
    },
    {
      "name": "Achievement Check",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "body": { "mode": "raw", "raw": "{\n  \"user_id\": \"u_123\",\n  \"user_type\": \"driver\",\n  \"context\": {\"event\": \"weekly_goal\"}\n}" },
        "url": "{{baseUrl}}/v1/engagement/achievements/check"
      }
    },
    {
      "name": "Leaderboard",
      "request": {
        "method": "GET",
        "url": "{{baseUrl}}/v1/engagement/leaderboard?type=overall&period=monthly&limit=25&offset=0"
      }
    },
    {
      "name": "Subscribe Webhooks",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "body": { "mode": "raw", "raw": "{\n  \"webhook_url\": \"https://partner.example/webhooks/lmdr-engagement\",\n  \"event_types\": [\"engagement.level_up\", \"engagement.achievement_earned\"]\n}" },
        "url": "{{baseUrl}}/v1/engagement/webhooks/subscribe"
      }
    }
  ]
}
