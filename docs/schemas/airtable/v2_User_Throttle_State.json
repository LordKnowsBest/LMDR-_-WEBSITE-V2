{
  "tableName": "v2_User Throttle State",
  "metadata": {
    "base": "Last Mile Driver recruiting",
    "baseId": "app9N1YCJ3gdhExA0"
  },
  "fields": [
    {
      "name": "Lookup Key",
      "type": "Single Line Text",
      "description": "Compound key: userId_ruleId",
      "mapping": "userId_ruleId"
    },
    {
      "name": "User ID",
      "type": "Single Line Text",
      "description": "Wix Member ID",
      "mapping": "userId"
    },
    {
      "name": "Rule ID",
      "type": "Single Line Text",
      "description": "Notification Rule ID",
      "mapping": "ruleId"
    },
    {
      "name": "Last Sent",
      "type": "Date",
      "description": "Timestamp of last successful notification",
      "mapping": "lastSent"
    },
    {
      "name": "Count This Hour",
      "type": "Number (precision: 0)",
      "description": "Notifications sent in the current hour",
      "mapping": "countThisHour"
    },
    {
      "name": "Count Today",
      "type": "Number (precision: 0)",
      "description": "Notifications sent in the last 24 hours",
      "mapping": "countToday"
    },
    {
      "name": "Hour Key",
      "type": "Single Line Text",
      "description": "Bucket key for current UTC hour",
      "mapping": "hourKey"
    },
    {
      "name": "Day Key",
      "type": "Single Line Text",
      "description": "Bucket key for current UTC day",
      "mapping": "dayKey"
    },
    {
      "name": "Updated At",
      "type": "Date with time",
      "description": "Last state update",
      "mapping": "updatedAt"
    }
  ],
  "backendMapping": {
    "userId_ruleId": "Lookup Key",
    "userId": "User ID",
    "ruleId": "Rule ID",
    "lastSent": "Last Sent",
    "countThisHour": "Count This Hour",
    "countToday": "Count Today",
    "hourKey": "Hour Key",
    "dayKey": "Day Key",
    "updatedAt": "Updated At"
  },
  "suggestedIndexes": [
    "userId_ruleId",
    "ruleId",
    "userId"
  ],
  "updated": "2026-02-18"
}
