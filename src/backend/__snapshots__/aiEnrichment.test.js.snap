// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`AI Enrichment Service should generate correct prompt structure for Claude 1`] = `
"VERIFIED FMCSA DATA (treat as ground truth):
  - Carrier Name: Test Transport LLC
  - DOT Number: 123456
  - Safety Rating: SATISFACTORY
  - Fleet Size: 100 power units (medium fleet)
  - Driver Count: 120
  - Location: Dallas, TX

  
    ðŸ”¥ SOCIAL MEDIA INTEL (Reddit/Twitter/Forums):
    "Reddit says good things"
    (Use this strictly for sentiment, pros/cons, and culture analysis. It is raw and unfiltered.)
    

  DRIVER PREFERENCES:
  - Looking for: OTR runs
  - Min CPM: 0.6

  OUTPUT THIS EXACT JSON STRUCTURE:
  {
    "freight_types": "List main freight types or 'General Freight'",
    "route_types": "OTR/Regional/Local/Dedicated",
    "home_time": "Weekly/Every 2-3 weeks/Varies",
    "pay_cpm_range": "Format as '$X.XX-$X.XX CPM' or 'Market rate'",
    "sign_on_bonus": "Specific amount or 'None advertised'",
    "benefits": "Health, 401k, PTO details or 'Standard benefits package'",
    "hiring_status": "Actively Hiring/Unknown/Contact Carrier",
    "driver_sentiment": "Positive/Mixed/Negative - Base on Social Intel if available",
    "sentiment_pros": ["Positive 1", "Positive 2", "Positive 3"],
    "sentiment_cons": ["Concern 1", "Concern 2", "Concern 3"],
    "sources_found": ["List specific forums if in Social Intel, otherwise 'Web Search'"],
    "data_confidence": "High/Medium/Low",
    "ai_summary": "2-3 sentence summary combining safety record + social rumors + job appeal"
  }

WEB RESEARCH & SOCIAL FINDINGS:
Perplexity found pay is $0.65 CPM.

Reddit says good things"
`;

exports[`AI Enrichment Service should return fallback if APIs fail 1`] = `
{
  "ai_summary": "Test Transport is a 100-truck carrier based in Dallas, TX. AI research was temporarily unavailable. Check FMCSA safety records above and contact the carrier directly for job details.",
  "benefits": "Contact for details",
  "data_confidence": "Low",
  "dot_number": "123456",
  "driver_sentiment": "No reviews available",
  "enriched_date": Any<Date>,
  "enrichment_version": 9,
  "error": true,
  "errorMessage": "API Down",
  "fmcsa": Any<Object>,
  "freight_types": "General Freight",
  "hiring_status": "Contact Carrier",
  "home_time": "Contact Carrier",
  "pay_cpm_range": "Market Rate ($0.55-0.70)",
  "route_types": "Regional/OTR",
  "sentiment_cons": "[]",
  "sentiment_pros": "[]",
  "sign_on_bonus": "Contact for current offers",
  "sources_found": "["FMCSA SAFER"]",
}
`;
