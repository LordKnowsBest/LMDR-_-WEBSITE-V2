// ============================================================================
// AGENT APPROVAL COORDINATOR - Phase 4 branch-aware approval scaffolding
// Keeps current single-gate resume flow intact while adding a stable metadata
// shape for future branch-aware gate coordination.
// ============================================================================

export function buildApprovalContext(baseContext = {}, metadata = {}) {
  return {
    ...baseContext,
    executionContext: {
      node_id: metadata.node_id || '',
      branch_id: metadata.branch_id || '',
      execution_mode: metadata.execution_mode || '',
      plan_id: metadata.plan_id || baseContext.planId || ''
    }
  };
}

export function getApprovalExecutionContext(approvalContext = {}) {
  return approvalContext.executionContext || {
    node_id: '',
    branch_id: '',
    execution_mode: '',
    plan_id: approvalContext.planId || ''
  };
}
