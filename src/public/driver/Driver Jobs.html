<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Job Listing | LMDR</title>

  <!-- Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/theme-styles.css">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #f9fafb;
      color: #475569;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      padding-top: max(20px, env(safe-area-inset-top));
      padding-bottom: max(20px, env(safe-area-inset-bottom));
    }

    /* Urgency Banner */
    .urgency-banner {
      background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
      color: white;
      padding: 12px 20px;
      border-radius: 12px;
      margin-bottom: 20px;
      display: none;
      align-items: center;
      justify-content: center;
      gap: 10px;
      font-weight: 600;
      animation: pulse 2s infinite;
    }

    .urgency-banner.show {
      display: flex;
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.85;
      }
    }

    .urgency-banner i {
      font-size: 18px;
    }

    /* Hero Section */
    .job-hero {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      border-radius: 24px;
      padding: 40px;
      margin-bottom: 30px;
      position: relative;
      overflow: hidden;
    }

    .job-hero::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -10%;
      width: 500px;
      height: 500px;
      background: radial-gradient(circle, rgba(251, 191, 36, 0.1) 0%, transparent 70%);
      border-radius: 50%;
    }

    /* Company Logo */
    .company-logo-wrapper {
      position: absolute;
      top: 30px;
      right: 40px;
      width: 80px;
      height: 80px;
      background: white;
      border-radius: 16px;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .company-logo-wrapper.show {
      display: flex;
    }

    .company-logo {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }

    /* Badges Row */
    .badges-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }

    .job-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: #fbbf24;
      color: #0f172a;
      padding: 8px 16px;
      border-radius: 999px;
      font-size: 13px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .job-badge.fresh {
      background: #22c55e;
      color: white;
    }

    .job-badge.urgent {
      background: #ef4444;
      color: white;
      animation: pulse 1.5s infinite;
    }

    .job-badge.driver-type {
      background: #3b82f6;
      color: white;
    }

    .job-badge.employment-type {
      background: #8b5cf6;
      color: white;
    }

    .job-title {
      font-size: 42px;
      font-weight: 900;
      color: #ffffff;
      margin-bottom: 12px;
      line-height: 1.1;
      max-width: calc(100% - 100px);
    }

    .company-name {
      font-size: 22px;
      font-weight: 600;
      color: #fbbf24;
      margin-bottom: 8px;
    }

    /* Location & Posted Info */
    .location-posted-row {
      display: flex;
      flex-wrap: wrap;
      gap: 24px;
      margin-bottom: 20px;
    }

    .location-info {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #cbd5e1;
      font-size: 15px;
    }

    .location-info i {
      color: #fbbf24;
    }

    .posted-info {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #94a3b8;
      font-size: 14px;
    }

    .posted-info i {
      color: #64748b;
    }

    /* Job Meta Grid */
    .job-meta {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 16px;
      margin-top: 24px;
      background: rgba(255, 255, 255, 0.05);
      padding: 20px;
      border-radius: 16px;
    }

    .meta-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
    }

    .meta-icon {
      width: 40px;
      height: 40px;
      background: rgba(251, 191, 36, 0.2);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .meta-icon i {
      color: #fbbf24;
      font-size: 18px;
    }

    .meta-content {
      flex: 1;
      min-width: 0;
    }

    .meta-label {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #94a3b8;
      margin-bottom: 2px;
    }

    .meta-value {
      font-size: 15px;
      font-weight: 700;
      color: #ffffff;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* Pay Highlight Card */
    .pay-highlight {
      background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
      border-radius: 16px;
      padding: 24px;
      margin-top: 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 16px;
    }

    .pay-main {
      display: flex;
      align-items: baseline;
      gap: 8px;
    }

    .pay-amount {
      font-size: 36px;
      font-weight: 900;
      color: #0f172a;
    }

    .pay-period {
      font-size: 18px;
      font-weight: 600;
      color: #1e293b;
    }

    .pay-extras {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .pay-extra-badge {
      background: rgba(15, 23, 42, 0.15);
      color: #0f172a;
      padding: 8px 14px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
    }

    /* Details Grid */
    .details-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .detail-card {
      background: #ffffff;
      border: 2px solid #e2e8f0;
      border-radius: 16px;
      padding: 24px;
      transition: all 0.3s ease;
    }

    .detail-card:hover {
      border-color: #fbbf24;
      box-shadow: 0 8px 24px rgba(251, 191, 36, 0.15);
      transform: translateY(-2px);
    }

    .detail-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .detail-icon {
      width: 48px;
      height: 48px;
      background: #fef3c7;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .detail-icon i {
      color: #f59e0b;
      font-size: 22px;
    }

    .detail-icon.blue {
      background: #dbeafe;
    }

    .detail-icon.blue i {
      color: #2563eb;
    }

    .detail-icon.green {
      background: #dcfce7;
    }

    .detail-icon.green i {
      color: #16a34a;
    }

    .detail-icon.purple {
      background: #f3e8ff;
    }

    .detail-icon.purple i {
      color: #9333ea;
    }

    .detail-label {
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: #94a3b8;
    }

    .detail-value {
      font-size: 20px;
      font-weight: 700;
      color: #0f172a;
      margin-top: 4px;
    }

    .detail-subtext {
      font-size: 13px;
      color: #64748b;
      margin-top: 4px;
    }

    /* Endorsements Tags */
    .endorsements-section {
      display: none;
      margin-top: 12px;
    }

    .endorsements-section.show {
      display: block;
    }

    .endorsement-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }

    .endorsement-tag {
      background: #fee2e2;
      color: #dc2626;
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 600;
    }

    /* Content Sections */
    .content-section {
      background: #ffffff;
      border-radius: 20px;
      padding: 32px;
      margin-bottom: 24px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 3px solid #fbbf24;
    }

    .section-icon {
      width: 44px;
      height: 44px;
      background: #fef3c7;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .section-icon i {
      color: #f59e0b;
      font-size: 20px;
    }

    .section-title {
      font-size: 24px;
      font-weight: 800;
      color: #0f172a;
    }

    .content-text {
      font-size: 16px;
      line-height: 1.8;
      color: #475569;
    }

    .content-text p {
      margin-bottom: 16px;
    }

    .content-text ul,
    .content-text ol {
      margin-left: 24px;
      margin-bottom: 16px;
    }

    .content-text li {
      margin-bottom: 8px;
      padding-left: 8px;
    }

    .content-text strong {
      color: #0f172a;
      font-weight: 700;
    }

    /* Benefits Grid */
    .benefits-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 14px;
      margin-top: 20px;
    }

    .benefit-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 16px;
      background: linear-gradient(135deg, #fefce8 0%, #fef9c3 100%);
      border-radius: 12px;
      border-left: 4px solid #fbbf24;
    }

    .benefit-item i {
      color: #f59e0b;
      font-size: 18px;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .benefit-text {
      font-size: 14px;
      font-weight: 500;
      color: #1e293b;
      line-height: 1.4;
    }

    /* Requirements List */
    .requirements-list {
      list-style: none;
      margin-top: 20px;
    }

    .requirement-item {
      display: flex;
      align-items: flex-start;
      gap: 14px;
      padding: 16px 0;
      border-bottom: 1px solid #e2e8f0;
    }

    .requirement-item:last-child {
      border-bottom: none;
    }

    .requirement-icon {
      width: 28px;
      height: 28px;
      background: #dbeafe;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .requirement-icon i {
      color: #2563eb;
      font-size: 14px;
    }

    .requirement-text {
      font-size: 15px;
      color: #475569;
      line-height: 1.5;
    }

    /* Contact Card */
    .contact-card {
      background: linear-gradient(135deg, #1e40af 0%, #1d4ed8 100%);
      border-radius: 20px;
      padding: 28px;
      margin-bottom: 24px;
      color: white;
    }

    .contact-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .contact-header i {
      font-size: 24px;
    }

    .contact-title {
      font-size: 20px;
      font-weight: 700;
    }

    .contact-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
    }

    .contact-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
    }

    .contact-item i {
      font-size: 20px;
      opacity: 0.9;
    }

    .contact-item a {
      color: white;
      text-decoration: none;
      font-weight: 600;
      font-size: 15px;
    }

    .contact-item a:hover {
      text-decoration: underline;
    }

    /* Address Section */
    .address-section {
      display: none;
      margin-top: 16px;
      padding-top: 16px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
    }

    .address-section.show {
      display: block;
    }

    .address-label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      opacity: 0.8;
      margin-bottom: 6px;
    }

    .address-text {
      font-size: 15px;
      font-weight: 500;
      line-height: 1.5;
    }

    /* CTA Section */
    .cta-section {
      background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
      border-radius: 24px;
      padding: 48px 40px;
      text-align: center;
      margin-top: 40px;
      position: relative;
      overflow: hidden;
    }

    .cta-section::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float {

      0%,
      100% {
        transform: translate(0, 0);
      }

      50% {
        transform: translate(20px, -20px);
      }
    }

    .cta-content {
      position: relative;
      z-index: 1;
    }

    .cta-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(15, 23, 42, 0.15);
      color: #0f172a;
      padding: 10px 20px;
      border-radius: 999px;
      font-size: 14px;
      font-weight: 700;
      margin-bottom: 20px;
    }

    .cta-title {
      font-size: 36px;
      font-weight: 900;
      color: #0f172a;
      margin-bottom: 12px;
    }

    .cta-subtitle {
      font-size: 18px;
      color: #1e293b;
      margin-bottom: 28px;
      font-weight: 500;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    .cta-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: center;
    }

    .cta-button {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: #0f172a;
      color: #ffffff;
      font-size: 18px;
      font-weight: 700;
      padding: 18px 40px;
      border-radius: 12px;
      text-decoration: none;
      transition: all 0.3s ease;
      box-shadow: 0 4px 14px rgba(15, 23, 42, 0.4);
    }

    .cta-button:hover {
      background: #1e293b;
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(15, 23, 42, 0.5);
    }

    .cta-button.secondary {
      background: transparent;
      border: 2px solid #0f172a;
      color: #0f172a;
      box-shadow: none;
    }

    .cta-button.secondary:hover {
      background: rgba(15, 23, 42, 0.1);
    }

    .cta-note {
      margin-top: 20px;
      font-size: 14px;
      color: #1e293b;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .cta-note i {
      font-size: 16px;
    }

    /* Expiry Warning */
    .expiry-warning {
      display: none;
      margin-top: 16px;
      padding: 12px 20px;
      background: rgba(239, 68, 68, 0.2);
      border-radius: 8px;
      color: #7f1d1d;
      font-weight: 600;
      font-size: 14px;
    }

    .expiry-warning.show {
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    /* Footer */
    .footer-info {
      text-align: center;
      padding: 40px 20px;
      color: #64748b;
      font-size: 14px;
    }

    .footer-logo {
      font-size: 28px;
      font-weight: 900;
      background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 12px;
    }

    .footer-tagline {
      font-size: 15px;
      color: #475569;
      margin-bottom: 16px;
    }

    .footer-links {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      margin-top: 16px;
    }

    .footer-links a {
      color: #2563eb;
      text-decoration: none;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .footer-links a:hover {
      text-decoration: underline;
    }

    .footer-meta {
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid #e2e8f0;
      font-size: 12px;
      color: #94a3b8;
    }

    /* Enhanced Responsive Styles */
    @media (max-width: 768px) {
      .container {
        padding: 12px;
      }

      .job-hero {
        padding: 24px 20px;
      }

      .job-title {
        font-size: 24px;
        max-width: 100%;
        line-height: 1.2;
      }

      .company-logo-wrapper {
        position: static;
        margin: 0 auto 16px;
        width: 60px;
        height: 60px;
      }

      .company-name {
        font-size: 16px;
      }

      .badges-row {
        gap: 8px;
      }

      .job-badge {
        font-size: 11px;
        padding: 6px 12px;
      }

      .location-posted-row {
        flex-direction: column;
        gap: 12px;
      }

      .location-info,
      .posted-info {
        font-size: 14px;
      }

      /* CRITICAL: Job Meta Grid Mobile Fix */
      .job-meta {
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        padding: 16px;
      }

      .meta-item {
        padding: 10px;
      }

      .meta-icon {
        width: 32px;
        height: 32px;
      }

      .meta-icon i {
        font-size: 14px;
      }

      .meta-label {
        font-size: 10px;
      }

      .meta-value {
        font-size: 13px;
      }

      /* CRITICAL: Pay Highlight Mobile Fix */
      .pay-highlight {
        flex-direction: column;
        text-align: center;
        padding: 20px;
        gap: 12px;
      }

      .pay-main {
        flex-direction: column;
        gap: 4px;
        width: 100%;
      }

      .pay-amount {
        font-size: 32px;
        line-height: 1;
      }

      .pay-period {
        font-size: 16px;
      }

      .pay-extras {
        width: 100%;
        justify-content: center;
      }

      .pay-extra-badge {
        font-size: 12px;
        padding: 6px 12px;
      }

      /* Detail Cards Mobile */
      .details-grid {
        grid-template-columns: 1fr;
        gap: 16px;
      }

      .detail-card {
        padding: 20px;
      }

      .detail-icon {
        width: 40px;
        height: 40px;
      }

      .detail-icon i {
        font-size: 18px;
      }

      .detail-value {
        font-size: 18px;
      }

      /* Content Sections Mobile */
      .content-section {
        padding: 24px 20px;
        border-radius: 16px;
      }

      .section-title {
        font-size: 20px;
      }

      .content-text {
        font-size: 15px;
      }

      .benefits-grid {
        grid-template-columns: 1fr;
        gap: 12px;
      }

      .benefit-item {
        padding: 14px;
      }

      /* Contact Card Mobile */
      .contact-card {
        padding: 24px 20px;
      }

      .contact-grid {
        grid-template-columns: 1fr;
        gap: 12px;
      }

      .contact-item {
        padding: 12px;
      }

      /* CTA Section Mobile */
      .cta-section {
        padding: 32px 20px;
      }

      .cta-title {
        font-size: 24px;
      }

      .cta-subtitle {
        font-size: 16px;
      }

      .cta-buttons {
        flex-direction: column;
        width: 100%;
      }

      .cta-button {
        width: 100%;
        justify-content: center;
        font-size: 16px;
        padding: 16px 32px;
      }

      .cta-note {
        font-size: 13px;
        text-align: center;
      }

      /* Footer Mobile */
      .footer-logo {
        font-size: 24px;
      }

      .footer-tagline {
        font-size: 14px;
      }

      .footer-links {
        flex-direction: column;
        gap: 12px;
      }
    }

    /* Extra Small Devices (iPhone SE, etc.) */
    @media (max-width: 375px) {
      .job-title {
        font-size: 20px;
      }

      .pay-amount {
        font-size: 28px;
      }

      .job-meta {
        grid-template-columns: 1fr;
      }

      .meta-item {
        padding: 12px;
      }
    }

    /* Loading State */
    .loading {
      opacity: 0.5;
      pointer-events: none;
    }

    .skeleton {
      background: linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
      border-radius: 4px;
    }

    @keyframes shimmer {
      0% {
        background-position: 200% 0;
      }

      100% {
        background-position: -200% 0;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- Urgency Banner -->
    <div class="urgency-banner" id="urgencyBanner">
      <i class="fa-solid fa-fire"></i>
      <span id="urgencyText">Hot Opportunity - Apply Before It's Gone!</span>
    </div>

    <!-- Hero Section -->
    <div class="job-hero">
      <!-- Company Logo -->
      <div class="company-logo-wrapper" id="logoWrapper">
        <img src="" alt="Company Logo" class="company-logo" id="companyLogoImg">
      </div>

      <!-- Badges -->
      <div class="badges-row">
        <span class="job-badge" id="hiringBadge">
          <i class="fa-solid fa-truck-fast"></i> <span id="hiringBadgeText">NOW HIRING</span>
        </span>
        <span class="job-badge fresh" id="freshBadge" style="display:none;">
          <i class="fa-solid fa-sparkles"></i> <span id="freshBadgeText">New</span>
        </span>
        <span class="job-badge driver-type" id="driverTypeBadge" style="display:none;">
          <span id="driverTypeText"></span>
        </span>
        <span class="job-badge employment-type" id="employmentTypeBadge" style="display:none;">
          <span id="employmentTypeText"></span>
        </span>
      </div>

      <h1 class="job-title" id="jobTitle">Loading...</h1>
      <div class="company-name" id="companyName">Loading...</div>

      <!-- Location & Posted Info -->
      <div class="location-posted-row">
        <div class="location-info">
          <i class="fa-solid fa-location-dot"></i>
          <span id="fullLocation">Loading...</span>
        </div>
        <div class="posted-info" id="postedInfo" style="display:none;">
          <i class="fa-regular fa-clock"></i>
          <span>Posted <span id="postedDate"></span></span>
        </div>
      </div>

      <!-- Job Meta Grid -->
      <div class="job-meta">
        <div class="meta-item">
          <div class="meta-icon">
            <i class="fa-solid fa-route"></i>
          </div>
          <div class="meta-content">
            <div class="meta-label">Route Type</div>
            <div class="meta-value" id="routeType">Loading...</div>
          </div>
        </div>

        <div class="meta-item">
          <div class="meta-icon">
            <i class="fa-solid fa-house"></i>
          </div>
          <div class="meta-content">
            <div class="meta-label">Home Time</div>
            <div class="meta-value" id="homeTime">Loading...</div>
          </div>
        </div>

        <div class="meta-item">
          <div class="meta-icon">
            <i class="fa-solid fa-id-card"></i>
          </div>
          <div class="meta-content">
            <div class="meta-label">License</div>
            <div class="meta-value" id="cdlClass">Loading...</div>
          </div>
        </div>

        <div class="meta-item">
          <div class="meta-icon">
            <i class="fa-solid fa-calendar-check"></i>
          </div>
          <div class="meta-content">
            <div class="meta-label">Start Date</div>
            <div class="meta-value" id="startDate">Immediate</div>
          </div>
        </div>
      </div>

      <!-- Pay Highlight -->
      <div class="pay-highlight">
        <div class="pay-main">
          <span class="pay-amount" id="payRate">Loading...</span>
          <span class="pay-period" id="payPeriod">/ week</span>
        </div>
        <div class="pay-extras" id="payExtras">
          <!-- Bonus badges will be populated dynamically -->
        </div>
      </div>
    </div>

    <!-- Key Details Grid -->
    <div class="details-grid">
      <div class="detail-card">
        <div class="detail-header">
          <div class="detail-icon">
            <i class="fa-solid fa-truck"></i>
          </div>
          <div>
            <div class="detail-label">Equipment</div>
            <div class="detail-value" id="equipmentType">Loading...</div>
          </div>
        </div>
        <div class="detail-subtext" id="equipmentSubtext">Late-model, well-maintained fleet</div>
      </div>

      <div class="detail-card">
        <div class="detail-header">
          <div class="detail-icon blue">
            <i class="fa-solid fa-briefcase"></i>
          </div>
          <div>
            <div class="detail-label">Experience</div>
            <div class="detail-value" id="experienceRequired">Loading...</div>
          </div>
        </div>
        <div class="detail-subtext">Verifiable driving experience</div>
      </div>

      <div class="detail-card">
        <div class="detail-header">
          <div class="detail-icon green">
            <i class="fa-solid fa-clock"></i>
          </div>
          <div>
            <div class="detail-label">Schedule</div>
            <div class="detail-value" id="employmentTypeDetail">Full-Time</div>
          </div>
        </div>
        <div class="detail-subtext" id="scheduleSubtext">Consistent miles and routes</div>
      </div>

      <div class="detail-card">
        <div class="detail-header">
          <div class="detail-icon purple">
            <i class="fa-solid fa-map-marker-alt"></i>
          </div>
          <div>
            <div class="detail-label">Region</div>
            <div class="detail-value" id="regionValue">Loading...</div>
          </div>
        </div>
        <div class="detail-subtext" id="regionSubtext">Primary operating area</div>

        <!-- Endorsements -->
        <div class="endorsements-section" id="endorsementsSection">
          <div class="detail-label">Endorsements Required</div>
          <div class="endorsement-tags" id="endorsementTags">
            <!-- Populated dynamically -->
          </div>
        </div>
      </div>
    </div>

    <!-- Job Description -->
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fa-solid fa-file-lines"></i>
        </div>
        <h2 class="section-title">Position Overview</h2>
      </div>
      <div class="content-text" id="jobDescription">
        <p>Loading job details...</p>
      </div>
    </div>

    <!-- Benefits -->
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fa-solid fa-gift"></i>
        </div>
        <h2 class="section-title">What You'll Get</h2>
      </div>
      <div class="benefits-grid" id="benefitsGrid">
        <!-- Benefits populated dynamically -->
      </div>
    </div>

    <!-- Requirements -->
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fa-solid fa-clipboard-check"></i>
        </div>
        <h2 class="section-title">Requirements</h2>
      </div>
      <ul class="requirements-list" id="requirementsList">
        <!-- Requirements populated dynamically -->
      </ul>
    </div>

    <!-- Contact Card -->
    <div class="contact-card">
      <div class="contact-header">
        <i class="fa-solid fa-headset"></i>
        <span class="contact-title">Questions? We're Here to Help</span>
      </div>
      <div class="contact-grid">
        <div class="contact-item">
          <i class="fa-solid fa-phone"></i>
          <a href="tel:+12145313751" id="phoneLink">+1-214-531-3751</a>
        </div>
        <div class="contact-item">
          <i class="fa-solid fa-envelope"></i>
          <a href="mailto:levy@lastmiledr.app">levy@lastmiledr.app</a>
        </div>
        <div class="contact-item">
          <i class="fa-solid fa-comment-dots"></i>
          <a href="sms:+12145313751">Text Us</a>
        </div>
      </div>
      <div class="address-section" id="addressSection">
        <div class="address-label">Hiring Location</div>
        <div class="address-text" id="fullAddress"></div>
      </div>
    </div>

    <!-- CTA Section -->
    <div class="cta-section">
      <div class="cta-content">
        <div class="cta-badge">
          <i class="fa-solid fa-bolt"></i>
          <span>Quick Apply</span>
        </div>
        <h2 class="cta-title">Ready to Hit the Road?</h2>
        <p class="cta-subtitle">Apply in under 2 minutes. Our AI-powered system matches you to the right opportunities
          fast.</p>

        <div class="cta-buttons">
          <a href="#" id="applyButton" class="cta-button">
            <i class="fa-solid fa-paper-plane"></i>
            Apply Now
          </a>
          <a href="tel:+12145313751" class="cta-button secondary" id="callButton">
            <i class="fa-solid fa-phone"></i>
            Call to Apply
          </a>
        </div>

        <div class="cta-note">
          <i class="fa-solid fa-shield-check"></i>
          <span>100% Free for Drivers | Secure Application | No Spam</span>
        </div>

        <div class="expiry-warning" id="expiryWarning">
          <i class="fa-solid fa-clock"></i>
          <span id="expiryText">This position expires soon!</span>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer-info">
      <div class="footer-logo">LAST MILE DR</div>
      <p class="footer-tagline">AI-powered driver recruiting that prioritizes retention over replacement.</p>

      <div class="footer-links">
        <a href="https://lastmiledr.app">
          <i class="fa-solid fa-globe"></i>
          lastmiledr.app
        </a>
        <a href="tel:+12145313751">
          <i class="fa-solid fa-phone"></i>
          +1-214-531-3751
        </a>
        <a href="mailto:levy@lastmiledr.app">
          <i class="fa-solid fa-envelope"></i>
          levy@lastmiledr.app
        </a>
      </div>

      <div class="footer-meta">
        <span id="jobIdDisplay"></span>
        <span id="lastUpdated"></span>
      </div>
    </div>
  </div>

  <script>
    // ========================================================================
    // LMDR DRIVER JOBS - FULL FIELD HTML COMPONENT
    // ========================================================================

    let dataProcessed = false;

    // Utility: Escape HTML
    function escapeHtml(text) {
      if (!text) return '';
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    // Utility: Validate job data
    function validateJobData(data) {
      if (!data || typeof data !== 'object') return false;
      if (typeof data === 'string') return false;
      if (data.type === 'jotform') return false;
      if (data.type === 'htmlReady') return false;
      if (data.type === 'htmlComponentReady') return false;
      return data.jobTitle !== undefined || data._id !== undefined;
    }

    // Main: Populate job page
    function populateJobPage(data) {
      console.log('üì• Received complete job data:', data);

      if (dataProcessed) {
        console.log('‚è≠Ô∏è Data already processed, skipping');
        return;
      }
      dataProcessed = true;

      // ====== URGENCY BANNER ======
      if (data.isUrgent || data.urgency === 'high') {
        document.getElementById('urgencyBanner').classList.add('show');
        if (data.expiresIn && data.expiresIn <= 3) {
          document.getElementById('urgencyText').textContent = `Only ${data.expiresIn} day${data.expiresIn > 1 ? 's' : ''} left to apply!`;
        }
      }

      // ====== COMPANY LOGO ======
      if (data.companyLogo && data.hasLogo) {
        const logoWrapper = document.getElementById('logoWrapper');
        const logoImg = document.getElementById('companyLogoImg');
        logoImg.src = data.companyLogo;
        logoImg.alt = data.companyName + ' Logo';
        logoWrapper.classList.add('show');
      }

      // ====== BADGES ======
      // Fresh badge
      if (data.isFresh) {
        const freshBadge = document.getElementById('freshBadge');
        freshBadge.style.display = 'inline-flex';
        document.getElementById('freshBadgeText').textContent = data.freshnessLabel || 'New';

        if (data.freshnessLabel === 'Just Posted') {
          freshBadge.classList.add('urgent');
        }
      }

      // Driver type badge
      if (data.driverType && data.driverType !== 'CDL Driver') {
        const driverTypeBadge = document.getElementById('driverTypeBadge');
        driverTypeBadge.style.display = 'inline-flex';
        document.getElementById('driverTypeText').textContent = data.driverType;
      }

      // Employment type badge
      if (data.employmentType && data.employmentType !== 'Full-Time') {
        const empBadge = document.getElementById('employmentTypeBadge');
        empBadge.style.display = 'inline-flex';
        document.getElementById('employmentTypeText').textContent = data.employmentType;
      }

      // ====== HERO CONTENT ======
      document.getElementById('jobTitle').textContent = data.jobTitle || 'CDL Driver Position';
      document.getElementById('companyName').textContent = data.companyName || 'LMDR Carrier Partner';

      // Full location
      const locationParts = [];
      if (data.city) locationParts.push(data.city);
      if (data.state) locationParts.push(data.state);
      if (data.postalCode) locationParts.push(data.postalCode);
      document.getElementById('fullLocation').textContent = locationParts.length > 0
        ? locationParts.join(', ')
        : 'Multiple Locations';

      // Posted date
      if (data.datePostedRelative) {
        document.getElementById('postedInfo').style.display = 'flex';
        document.getElementById('postedDate').textContent = data.datePostedRelative;
      }

      // ====== META GRID ======
      document.getElementById('routeType').textContent = data.routeType || 'OTR';
      document.getElementById('homeTime').textContent = data.homeTime || 'Varies';
      document.getElementById('cdlClass').textContent = data.cdlClass || 'Class A';
      document.getElementById('startDate').textContent = data.startDate || 'Immediate';

      // ====== PAY HIGHLIGHT ======
      // Enhanced pay display with CPM formatting
      const payRateDisplay = data.payRate || 'Competitive';
      const payPeriodDisplay = data.payPeriod || 'week';

      document.getElementById('payRate').textContent = payRateDisplay;

      // Format pay period display
      if (payPeriodDisplay.toUpperCase() === 'CPM') {
        document.getElementById('payPeriod').textContent = 'CPM';
      } else {
        document.getElementById('payPeriod').textContent = '/ ' + payPeriodDisplay;
      }

      // Pay extras (bonuses)
      const payExtras = document.getElementById('payExtras');
      payExtras.innerHTML = '';

      if (data.payStructure && data.payStructure.bonuses && data.payStructure.bonuses.length > 0) {
        data.payStructure.bonuses.forEach(bonus => {
          const badge = document.createElement('span');
          badge.className = 'pay-extra-badge';
          badge.innerHTML = `<i class="fa-solid fa-gift"></i> ${escapeHtml(bonus)}`;
          payExtras.appendChild(badge);
        });
      }

      if (data.avgWeeklyPay) {
        const avgBadge = document.createElement('span');
        avgBadge.className = 'pay-extra-badge';
        avgBadge.innerHTML = `<i class="fa-solid fa-chart-line"></i> Avg: ${escapeHtml(data.avgWeeklyPay)}`;
        payExtras.appendChild(avgBadge);
      }

      // ====== DETAIL CARDS ======
      document.getElementById('equipmentType').textContent = data.equipmentType || 'Dry Van';
      document.getElementById('experienceRequired').textContent = data.experienceRequired || '1+ Year';
      document.getElementById('employmentTypeDetail').textContent = data.employmentType || 'Full-Time';

      // Region value
      const regionValue = data.routeType === 'OTR' ? '48 States' :
        data.routeType === 'Regional' ? `${data.state || 'Regional'} Area` :
          data.routeType === 'Local' ? `${data.city || 'Local'} Area` :
            data.state || 'Nationwide';
      document.getElementById('regionValue').textContent = regionValue;

      // Endorsements
      if (data.endorsements && data.endorsements.length > 0) {
        const endSection = document.getElementById('endorsementsSection');
        const endTags = document.getElementById('endorsementTags');
        endSection.classList.add('show');
        endTags.innerHTML = '';

        data.endorsements.forEach(end => {
          const tag = document.createElement('span');
          tag.className = 'endorsement-tag';
          tag.textContent = end;
          endTags.appendChild(tag);
        });
      }

      // ====== JOB DESCRIPTION ======
      document.getElementById('jobDescription').innerHTML =
        data.jobDescriptionHtml ||
        data.jobDescription1 ||
        data.description ||
        '<p>Great opportunity for experienced CDL drivers seeking competitive pay and consistent miles.</p>';

      // ====== BENEFITS ======
      const benefitsGrid = document.getElementById('benefitsGrid');
      benefitsGrid.innerHTML = '';

      // Default benefits
      const defaultBenefits = [
        { icon: 'fa-dollar-sign', text: 'Competitive Pay Package' },
        { icon: 'fa-heart-pulse', text: 'Health Insurance Available' },
        { icon: 'fa-piggy-bank', text: '401(k) Retirement Plan' },
        { icon: 'fa-calendar-check', text: 'Paid Time Off' },
        { icon: 'fa-truck', text: 'Late-Model Equipment' },
        { icon: 'fa-shield-check', text: 'Safety Bonuses' }
      ];

      // Combine with parsed benefits
      const allBenefits = [...defaultBenefits];
      if (data.benefitsList && data.benefitsList.length > 0) {
        data.benefitsList.forEach(benefit => {
          allBenefits.push({ icon: 'fa-check-circle', text: benefit });
        });
      }

      // Render benefits (limit to 12)
      allBenefits.slice(0, 12).forEach(benefit => {
        const item = document.createElement('div');
        item.className = 'benefit-item';
        item.innerHTML = `
          <i class="fa-solid ${benefit.icon}"></i>
          <span class="benefit-text">${escapeHtml(benefit.text)}</span>
        `;
        benefitsGrid.appendChild(item);
      });

      // ====== REQUIREMENTS ======
      const reqList = document.getElementById('requirementsList');
      reqList.innerHTML = '';

      // Build requirements
      const requirements = [
        `Valid ${data.cdlClass || 'Class A'} CDL License`,
        `${data.experienceRequired || '1+ Year'} of verifiable driving experience`,
        'Clean driving record (no major violations in past 3 years)',
        'Pass DOT physical and drug screening',
        'Must be 21+ years of age',
        'Authorized to work in the United States'
      ];

      // Add endorsement requirements
      if (data.endorsements && data.endorsements.length > 0) {
        requirements.push(`Required endorsements: ${data.endorsements.join(', ')}`);
      }

      // Add parsed requirements
      if (data.requirementsList && data.requirementsList.length > 0) {
        data.requirementsList.forEach(req => {
          if (!requirements.some(r => r.toLowerCase().includes(req.toLowerCase().substring(0, 20)))) {
            requirements.push(req);
          }
        });
      }

      // Render requirements
      requirements.forEach(req => {
        const item = document.createElement('li');
        item.className = 'requirement-item';
        item.innerHTML = `
          <div class="requirement-icon">
            <i class="fa-solid fa-check"></i>
          </div>
          <span class="requirement-text">${escapeHtml(req)}</span>
        `;
        reqList.appendChild(item);
      });

      // ====== CONTACT INFO ======
      const phoneLink = document.getElementById('phoneLink');
      phoneLink.href = `tel:${data.phone || '+12145313751'}`;
      phoneLink.textContent = data.phone || '+1-214-531-3751';

      document.getElementById('callButton').href = `tel:${data.phone || '+12145313751'}`;

      // Address section
      if (data.fullAddress) {
        const addrSection = document.getElementById('addressSection');
        addrSection.classList.add('show');
        document.getElementById('fullAddress').textContent = data.fullAddress;
      }

      // ====== APPLICATION ======
      document.getElementById('applyButton').href = data.applicationLink || 'https://form.jotform.com/250845294380057';

      // ====== EXPIRY WARNING ======
      if (data.expiresIn && data.expiresIn <= 7) {
        const expiryWarning = document.getElementById('expiryWarning');
        expiryWarning.classList.add('show');
        document.getElementById('expiryText').textContent =
          data.expiresIn <= 1 ? 'Last day to apply!' :
            data.expiresIn <= 3 ? `Only ${data.expiresIn} days left!` :
              `Closes in ${data.expiresIn} days`;
      }

      // ====== FOOTER META ======
      if (data._id) {
        document.getElementById('jobIdDisplay').textContent = `Job ID: ${data._id.substring(0, 8)}...`;
      }
      if (data.datePostedFormatted) {
        document.getElementById('lastUpdated').textContent = ` | Posted: ${data.datePostedFormatted}`;
      }

      // ====== PAGE TITLE ======
      document.title = `${data.jobTitle || 'CDL Driver Position'} - ${data.city || 'TX'} | ${data.companyName || 'LMDR'}`;

      console.log('‚úÖ Job page fully populated with all fields');
    }

    // Listen for postMessage
    window.addEventListener('message', function (event) {
      const data = event.data;

      if (!validateJobData(data)) {
        return;
      }

      populateJobPage(data);
    });

    // Send ready signal
    if (window.parent) {
      window.parent.postMessage({ type: 'htmlComponentReady' }, '*');
      console.log('üì§ Sent ready signal to parent');
    }

    console.log('üü¢ LMDR HTML Component Ready - Full Field Implementation');
  </script>
</body>

</html>