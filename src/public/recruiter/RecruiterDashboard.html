<!DOCTYPE html>
<html lang="en" class="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Recruiter Console - VelocityMatch</title>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
    crossorigin="anonymous" referrerpolicy="no-referrer">

  <!-- Tailwind CDN + INLINE config -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'sans-serif'] },
          colors: {
            'lmdr-blue': '#2563eb', 'lmdr-deep': '#1e40af',
            'lmdr-yellow': '#fbbf24', 'lmdr-dark': '#0f172a',
            'beige': '#F5F5DC', 'beige-d': '#E8E0C8',
            'tan': '#C8B896', 'ivory': '#FFFFF5', 'sg': '#859900',
            lmdr: { blue: '#2563eb', dark: '#0f172a', yellow: '#fbbf24', canvas: '#f1f5f9' }
          }
        }
      }
    };
  </script>

  <!-- External CSS via CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/theme-styles.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/recruiter/recruiter-design-system.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/recruiter/css/dashboard.css">
</head>

<body class="bg-slate-100 text-slate-800 antialiased min-h-screen">

  <!-- Settings Backdrop -->
  <div id="settingsBackdrop" class="settings-backdrop fixed inset-0 bg-black/50 z-[60]" onclick="closeSettingsPanel()"></div>

  <!-- Settings Slide-Out Panel -->
  <div id="settingsPanel" class="settings-panel fixed top-0 right-0 h-full w-80 bg-slate-900/95 backdrop-blur-xl text-white z-[70] flex flex-col shadow-2xl border-l border-white/10">
    <div class="flex items-center justify-between px-5 py-4 border-b border-white/10">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center">
          <i class="fa-solid fa-sliders text-white text-sm"></i>
        </div>
        <div>
          <h2 class="font-bold text-base">Match Scoring</h2>
          <p class="text-[10px] text-slate-400">Customize weight priorities</p>
        </div>
      </div>
      <button onclick="closeSettingsPanel()" class="w-8 h-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center transition">
        <i class="fa-solid fa-xmark text-slate-400"></i>
      </button>
    </div>
    <div class="flex-1 overflow-y-auto thin-scroll p-5 space-y-5">
      <div class="bg-blue-500/10 border border-blue-500/20 rounded-xl p-3">
        <div class="flex gap-2">
          <i class="fa-solid fa-lightbulb text-blue-400 text-xs mt-0.5"></i>
          <p class="text-[11px] text-blue-200/80 leading-relaxed">Higher weights = higher impact on match scores. Adjust based on your hiring priorities.</p>
        </div>
      </div>
      <div class="flex justify-center py-2">
        <div class="relative w-32 h-32">
          <svg viewBox="0 0 100 100" class="w-full h-full -rotate-90">
            <circle cx="50" cy="50" r="40" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="10"/>
            <circle id="seg-qualifications" class="donut-segment" cx="50" cy="50" r="40" fill="none" stroke="#3b82f6" stroke-width="10" stroke-dasharray="0 251.2" stroke-dashoffset="0"/>
            <circle id="seg-experience" class="donut-segment" cx="50" cy="50" r="40" fill="none" stroke="#8b5cf6" stroke-width="10" stroke-dasharray="0 251.2" stroke-dashoffset="0"/>
            <circle id="seg-location" class="donut-segment" cx="50" cy="50" r="40" fill="none" stroke="#06b6d4" stroke-width="10" stroke-dasharray="0 251.2" stroke-dashoffset="0"/>
            <circle id="seg-availability" class="donut-segment" cx="50" cy="50" r="40" fill="none" stroke="#10b981" stroke-width="10" stroke-dasharray="0 251.2" stroke-dashoffset="0"/>
            <circle id="seg-salaryFit" class="donut-segment" cx="50" cy="50" r="40" fill="none" stroke="#f59e0b" stroke-width="10" stroke-dasharray="0 251.2" stroke-dashoffset="0"/>
            <circle id="seg-engagement" class="donut-segment" cx="50" cy="50" r="40" fill="none" stroke="#ec4899" stroke-width="10" stroke-dasharray="0 251.2" stroke-dashoffset="0"/>
          </svg>
          <div class="absolute inset-0 flex items-center justify-center flex-col">
            <span class="text-xl font-bold" id="totalPercent">100%</span>
            <span class="text-[9px] text-slate-500 uppercase tracking-wider">Total</span>
          </div>
        </div>
      </div>
      <div class="space-y-4">
        <div>
          <div class="flex items-center justify-between mb-1.5">
            <div class="flex items-center gap-2"><div class="w-2.5 h-2.5 rounded-full bg-blue-500"></div><span class="text-xs font-medium">Qualifications</span></div>
            <span class="text-xs font-bold text-blue-400" id="val-qualifications">30%</span>
          </div>
          <input type="range" id="slider-qualifications" min="0" max="50" value="30" class="w-full sidebar-slider" oninput="updateWeight('qualifications', this.value)">
        </div>
        <div>
          <div class="flex items-center justify-between mb-1.5">
            <div class="flex items-center gap-2"><div class="w-2.5 h-2.5 rounded-full bg-purple-500"></div><span class="text-xs font-medium">Experience</span></div>
            <span class="text-xs font-bold text-purple-400" id="val-experience">20%</span>
          </div>
          <input type="range" id="slider-experience" min="0" max="50" value="20" class="w-full sidebar-slider" oninput="updateWeight('experience', this.value)">
        </div>
        <div>
          <div class="flex items-center justify-between mb-1.5">
            <div class="flex items-center gap-2"><div class="w-2.5 h-2.5 rounded-full bg-cyan-500"></div><span class="text-xs font-medium">Location</span></div>
            <span class="text-xs font-bold text-cyan-400" id="val-location">20%</span>
          </div>
          <input type="range" id="slider-location" min="0" max="50" value="20" class="w-full sidebar-slider" oninput="updateWeight('location', this.value)">
        </div>
        <div>
          <div class="flex items-center justify-between mb-1.5">
            <div class="flex items-center gap-2"><div class="w-2.5 h-2.5 rounded-full bg-emerald-500"></div><span class="text-xs font-medium">Availability</span></div>
            <span class="text-xs font-bold text-emerald-400" id="val-availability">15%</span>
          </div>
          <input type="range" id="slider-availability" min="0" max="50" value="15" class="w-full sidebar-slider" oninput="updateWeight('availability', this.value)">
        </div>
        <div>
          <div class="flex items-center justify-between mb-1.5">
            <div class="flex items-center gap-2"><div class="w-2.5 h-2.5 rounded-full bg-amber-500"></div><span class="text-xs font-medium">Salary Fit</span></div>
            <span class="text-xs font-bold text-amber-400" id="val-salaryFit">10%</span>
          </div>
          <input type="range" id="slider-salaryFit" min="0" max="50" value="10" class="w-full sidebar-slider" oninput="updateWeight('salaryFit', this.value)">
        </div>
        <div>
          <div class="flex items-center justify-between mb-1.5">
            <div class="flex items-center gap-2"><div class="w-2.5 h-2.5 rounded-full bg-pink-500"></div><span class="text-xs font-medium">Engagement</span></div>
            <span class="text-xs font-bold text-pink-400" id="val-engagement">5%</span>
          </div>
          <input type="range" id="slider-engagement" min="0" max="50" value="5" class="w-full sidebar-slider" oninput="updateWeight('engagement', this.value)">
        </div>
      </div>
      <div class="pt-3 border-t border-white/10">
        <p class="text-[10px] text-slate-500 mb-2 uppercase tracking-wider font-medium">Quick Presets</p>
        <div class="grid grid-cols-2 gap-2">
          <button onclick="applyPreset('balanced')" class="px-2 py-1.5 text-[10px] font-medium bg-white/5 hover:bg-white/10 rounded-lg border border-white/10 transition"><i class="fa-solid fa-scale-balanced mr-1"></i>Balanced</button>
          <button onclick="applyPreset('quality')" class="px-2 py-1.5 text-[10px] font-medium bg-white/5 hover:bg-white/10 rounded-lg border border-white/10 transition"><i class="fa-solid fa-award mr-1"></i>Quality First</button>
          <button onclick="applyPreset('urgent')" class="px-2 py-1.5 text-[10px] font-medium bg-white/5 hover:bg-white/10 rounded-lg border border-white/10 transition"><i class="fa-solid fa-bolt mr-1"></i>Urgent Hire</button>
          <button onclick="applyPreset('local')" class="px-2 py-1.5 text-[10px] font-medium bg-white/5 hover:bg-white/10 rounded-lg border border-white/10 transition"><i class="fa-solid fa-location-dot mr-1"></i>Local Focus</button>
        </div>
      </div>
    </div>
    <div class="px-5 py-4 border-t border-white/10 bg-black/20 flex gap-2">
      <button onclick="resetWeights()" class="flex-1 px-3 py-2 text-xs font-medium bg-white/5 hover:bg-white/10 rounded-lg border border-white/10 transition"><i class="fa-solid fa-rotate-left mr-1"></i>Reset</button>
      <button onclick="saveWeights()" id="saveBtn" class="flex-1 px-3 py-2 text-xs font-bold bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 rounded-lg transition shadow-lg"><i class="fa-solid fa-check mr-1"></i>Save</button>
    </div>
  </div>

  <!-- Loading State -->
  <div id="loading-state" class="fixed inset-0 bg-white flex items-center justify-center z-50">
    <div class="text-center">
      <div class="w-12 h-12 border-4 border-lmdr-blue border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
      <p class="text-slate-500 text-sm">Loading dashboard...</p>
    </div>
  </div>

  <!-- Add Carrier Flow -->
  <div id="add-carrier-section" class="hidden fixed inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center z-40">
    <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4">
      <div class="text-center mb-6">
        <div class="w-16 h-16 bg-lmdr-blue rounded-2xl flex items-center justify-center text-white text-2xl font-black mx-auto mb-4">VM</div>
        <h1 class="text-2xl font-bold text-slate-900" id="add-carrier-title">Add Your First Carrier</h1>
        <p class="text-slate-500 text-sm mt-2">Enter the carrier's DOT number to add them to your portfolio</p>
      </div>
      <div id="add-carrier-form">
        <label class="block text-sm font-semibold text-slate-700 mb-2">USDOT Number</label>
        <input type="text" id="dot-input" placeholder="e.g., 123456" class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-lmdr-blue focus:outline-none text-lg font-mono">
        <div id="carrier-preview" class="hidden mt-4 p-4 bg-slate-50 rounded-xl border border-slate-200">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-lmdr-blue rounded-lg flex items-center justify-center text-white font-bold text-sm" id="carrier-initials">--</div>
            <div>
              <div class="font-bold text-slate-900" id="carrier-name-preview">--</div>
              <div class="text-xs text-slate-500" id="carrier-location-preview">--</div>
            </div>
          </div>
        </div>
        <div id="add-carrier-error" class="hidden mt-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm"></div>
        <button id="validate-btn" onclick="validateDOT()" class="w-full mt-6 bg-slate-900 text-white font-bold py-3 rounded-xl hover:bg-slate-800 transition"><i class="fa-solid fa-search mr-2"></i>Find Carrier</button>
        <button id="add-btn" onclick="addCarrier()" class="hidden w-full mt-3 bg-lmdr-blue text-white font-bold py-3 rounded-xl hover:bg-blue-600 transition shadow-lg shadow-blue-200"><i class="fa-solid fa-plus mr-2"></i>Add to Portfolio</button>
        <button id="cancel-add-btn" onclick="cancelAddCarrier()" class="hidden w-full mt-3 text-slate-500 font-medium py-2 hover:text-slate-700 transition">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Main Dashboard -->
  <div id="dashboard" class="hidden h-screen flex overflow-hidden">

    <!-- Sidebar -->
    <div class="relative h-full flex flex-col z-40 bg-slate-900 overflow-hidden shadow-2xl transition-all duration-300" id="sidebar-container">
      <div class="blob blob-1"></div>
      <div class="blob blob-2"></div>
      <aside id="sidebar" class="w-64 text-slate-300 flex flex-col h-full sidebar-transition group relative z-10 bg-slate-900/60 backdrop-blur-xl border-r border-white/5">
        <button onclick="toggleSidebar()" class="absolute -right-3 top-20 bg-lmdr-blue text-white w-6 h-6 rounded-full flex items-center justify-center shadow-lg border border-slate-900 hover:scale-110 transition-transform z-50 opacity-0 group-hover:opacity-100">
          <i class="fa-solid fa-chevron-left text-[10px]" id="toggleIcon"></i>
        </button>
        <div class="h-16 flex items-center px-6 border-b border-white/10 sidebar-header transition-all">
          <div class="flex items-center gap-3">
            <div class="h-8 w-8 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex-none flex items-center justify-center text-white font-black text-sm shadow-lg shadow-blue-500/30 ring-1 ring-white/20">VM</div>
            <div class="logo-text fade-text">
              <h1 class="font-bold text-white text-sm tracking-tight drop-shadow-md">Velocity<span class="text-blue-400">Match</span></h1>
              <p class="text-[10px] text-blue-200/70 uppercase font-bold tracking-wider">Recruiter OS</p>
            </div>
          </div>
        </div>
        <nav class="flex-1 overflow-y-auto thin-scroll py-6 space-y-1">
          <a href="#" class="sidebar-link active flex items-center gap-4 px-6 py-3 text-sm font-bold" title="Dashboard" data-page="dashboard">
            <i class="fa-solid fa-table-columns w-5 text-center flex-none"></i><span class="fade-text">Dashboard</span>
          </a>
          <a href="#" class="sidebar-link flex items-center gap-4 px-6 py-3 text-sm font-medium hover:text-white group" title="Driver Search" data-page="driver-search">
            <i class="fa-solid fa-magnifying-glass w-5 text-center flex-none text-slate-400 group-hover:text-white transition-colors"></i><span class="fade-text group-hover:translate-x-1 transition-transform">Driver Search</span>
          </a>
          <a href="#" class="sidebar-link flex items-center gap-4 px-6 py-3 text-sm font-medium hover:text-white group" title="Pipeline" data-page="pipeline">
            <i class="fa-solid fa-layer-group w-5 text-center flex-none text-slate-400 group-hover:text-white transition-colors"></i><span class="fade-text group-hover:translate-x-1 transition-transform">Pipeline</span>
          </a>
          <a href="#" class="sidebar-link flex items-center gap-4 px-6 py-3 text-sm font-medium hover:text-white group" title="Jobs" data-page="jobs">
            <i class="fa-solid fa-briefcase w-5 text-center flex-none text-slate-400 group-hover:text-white transition-colors"></i><span class="fade-text group-hover:translate-x-1 transition-transform">Jobs</span>
          </a>
          <div class="px-6 mt-6 mb-2 text-[10px] font-bold uppercase tracking-widest text-blue-200/50 fade-text">Intelligence</div>
          <a href="#" class="sidebar-link flex items-center gap-4 px-6 py-3 text-sm font-medium hover:text-white group" title="Ad Studio" data-page="ad-studio">
            <i class="fa-solid fa-wand-magic-sparkles w-5 text-center flex-none text-slate-400 group-hover:text-indigo-400 transition-colors"></i><span class="fade-text group-hover:translate-x-1 transition-transform">Ad Studio</span>
          </a>
        </nav>
      </aside>
    </div>

    <!-- Main Content Area -->
    <div class="flex-1 flex flex-col overflow-hidden">
      <!-- Header -->
      <header class="bg-white border-b border-slate-200 h-16 flex-none z-30 flex justify-between items-center px-6">
        <div class="flex items-center gap-4">
          <div class="h-9 w-9 bg-lmdr-blue rounded-lg flex items-center justify-center text-white font-black text-sm">VM</div>
          <div class="carrier-dropdown" id="carrier-dropdown">
            <button onclick="toggleCarrierDropdown()" class="flex items-center gap-2 hover:bg-slate-50 px-3 py-2 rounded-lg transition">
              <div>
                <h1 class="font-bold text-slate-900 text-lg text-left" id="carrier-name">Loading...</h1>
                <span class="text-xs text-slate-500" id="carrier-dot">DOT: ---</span>
              </div>
              <i class="fa-solid fa-chevron-down text-slate-400 text-xs ml-2"></i>
            </button>
            <div class="carrier-dropdown-menu bg-white rounded-xl shadow-xl border border-slate-200 mt-2 overflow-hidden">
              <div class="p-2 border-b border-slate-100">
                <div class="text-xs font-bold text-slate-400 uppercase tracking-wider px-3 py-2">Your Carriers</div>
              </div>
              <div id="carrier-list" class="max-h-64 overflow-y-auto"></div>
              <div class="p-2 border-t border-slate-100">
                <button onclick="showAddCarrierModal()" class="w-full flex items-center gap-2 px-3 py-2 text-sm text-lmdr-blue font-medium hover:bg-blue-50 rounded-lg transition"><i class="fa-solid fa-plus"></i>Add Carrier</button>
              </div>
            </div>
          </div>
        </div>
        <div class="flex items-center gap-4">
          <div class="hidden md:flex items-center gap-6 mr-4">
            <div class="text-center"><div class="text-[10px] font-bold uppercase tracking-wider text-slate-400">Pipeline</div><div class="font-black text-slate-900 leading-none" id="stat-total">--</div></div>
            <div class="text-center"><div class="text-[10px] font-bold uppercase tracking-wider text-slate-400">Response</div><div class="font-black text-slate-900 leading-none" id="stat-response">--</div></div>
            <div class="text-center"><div class="text-[10px] font-bold uppercase tracking-wider text-slate-400">Hired</div><div class="font-black text-green-600 leading-none" id="stat-hired">--</div></div>
          </div>
          <div class="flex md:hidden gap-1 mr-3" id="view-toggle">
            <button onclick="setMobileView('list')" id="view-list-btn" class="view-toggle-btn active"><i class="fa-solid fa-list"></i></button>
            <button onclick="setMobileView('kanban')" id="view-kanban-btn" class="view-toggle-btn"><i class="fa-solid fa-columns"></i></button>
          </div>
          <div class="relative">
            <button onclick="sendToWix('getUnreadCount')" class="w-9 h-9 flex items-center justify-center bg-white border border-slate-200 rounded-lg text-slate-500 hover:border-lmdr-blue transition" title="Unread messages"><i class="fa-solid fa-envelope"></i></button>
            <span id="unread-badge" class="hidden absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[20px] text-center">0</span>
          </div>
          <button id="themeToggle" onclick="toggleTheme()" class="w-9 h-9 flex items-center justify-center bg-white border border-slate-200 rounded-lg text-slate-500 hover:border-lmdr-blue transition" title="Toggle theme"><i class="fa-solid fa-sun"></i></button>
          <div class="flex bg-slate-100 rounded-lg p-1">
            <button onclick="switchTab('pipeline')" id="tab-pipeline" class="tab-btn active px-4 py-1.5 text-xs font-bold rounded-md transition"><i class="fa-solid fa-columns mr-1"></i><span class="hidden sm:inline">Pipeline</span></button>
            <button onclick="switchTab('stats')" id="tab-stats" class="tab-btn px-4 py-1.5 text-xs font-bold rounded-md text-slate-600 hover:bg-white transition"><i class="fa-solid fa-chart-bar mr-1"></i><span class="hidden sm:inline">Stats</span></button>
          </div>
        </div>
      </header>

      <!-- Tab Content -->
      <main class="flex-1 overflow-hidden">
        <!-- Pipeline Tab -->
        <section id="pipeline-tab" class="h-full bg-slate-100 p-4 md:p-6 overflow-hidden">
          <div class="kanban-container-wrapper h-full overflow-x-auto overflow-y-hidden">
            <div id="kanban-container" class="flex h-full gap-4"></div>
          </div>
          <div id="mobile-list-container" class="mobile-list-view h-full overflow-y-auto pb-20">
            <div class="flex gap-2 overflow-x-auto pb-3 mb-4 scrollbar-hide">
              <button onclick="filterMobileList('all')" id="filter-all" class="flex-none px-3 py-1.5 rounded-full text-xs font-bold bg-lmdr-blue text-white">All</button>
              <button onclick="filterMobileList('interested')" id="filter-interested" class="flex-none px-3 py-1.5 rounded-full text-xs font-bold bg-white text-slate-600 border border-slate-200">Interested</button>
              <button onclick="filterMobileList('applied')" id="filter-applied" class="flex-none px-3 py-1.5 rounded-full text-xs font-bold bg-white text-slate-600 border border-slate-200">Applied</button>
              <button onclick="filterMobileList('in_review')" id="filter-in_review" class="flex-none px-3 py-1.5 rounded-full text-xs font-bold bg-white text-slate-600 border border-slate-200">In Review</button>
              <button onclick="filterMobileList('contacted')" id="filter-contacted" class="flex-none px-3 py-1.5 rounded-full text-xs font-bold bg-white text-slate-600 border border-slate-200">Contacted</button>
              <button onclick="filterMobileList('offer')" id="filter-offer" class="flex-none px-3 py-1.5 rounded-full text-xs font-bold bg-white text-slate-600 border border-slate-200">Offer</button>
              <button onclick="filterMobileList('hired')" id="filter-hired" class="flex-none px-3 py-1.5 rounded-full text-xs font-bold bg-white text-slate-600 border border-slate-200">Hired</button>
            </div>
            <div id="mobile-list" class="space-y-3"></div>
          </div>
          <div id="empty-pipeline" class="hidden h-full flex items-center justify-center">
            <div class="text-center">
              <div class="w-20 h-20 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-4"><i class="fa-solid fa-users text-3xl text-slate-400"></i></div>
              <h3 class="font-bold text-slate-900 text-lg">No candidates yet</h3>
              <p class="text-slate-500 text-sm mt-2">When drivers express interest in this carrier, they'll appear here.</p>
            </div>
          </div>
        </section>

        <!-- Stats Tab -->
        <section id="stats-tab" class="hidden h-full overflow-auto bg-slate-100 p-6">
          <div class="max-w-4xl mx-auto space-y-6">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
              <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200"><div class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Total Pipeline</div><div class="text-3xl font-black text-slate-900" id="stats-total">--</div></div>
              <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200"><div class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Last 7 Days</div><div class="text-3xl font-black text-lmdr-blue" id="stats-7days">--</div></div>
              <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200"><div class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Avg Response</div><div class="text-3xl font-black text-slate-900" id="stats-response">--</div><div class="text-xs text-slate-500" id="stats-badge">--</div></div>
              <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200"><div class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Conversion</div><div class="text-3xl font-black text-green-600" id="stats-conversion">--%</div></div>
            </div>
            <div class="bg-white rounded-xl p-6 shadow-sm border border-slate-200">
              <h3 class="font-bold text-slate-900 mb-4">Pipeline by Stage</h3>
              <div id="stage-breakdown" class="space-y-3"></div>
            </div>
          </div>
        </section>

        <!-- System Health Tab -->
        <section id="system-health-tab" class="hidden h-full overflow-auto bg-slate-100 p-6">
          <div class="max-w-4xl mx-auto space-y-6">
            <div class="bg-white rounded-xl p-6 shadow-sm border border-slate-200">
              <div class="flex items-center gap-4 mb-6">
                <div class="w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center"><i class="fa-solid fa-heart-pulse text-2xl text-lmdr-blue"></i></div>
                <div><h2 class="text-xl font-bold text-slate-900">System Status</h2><p class="text-sm text-slate-500">Real-time platform health monitoring</p></div>
                <div class="ml-auto flex items-center gap-2 px-3 py-1.5 bg-slate-100 rounded-lg">
                  <div class="w-2.5 h-2.5 rounded-full bg-green-500 animate-pulse" id="health-indicator-dot"></div>
                  <span class="text-xs font-bold text-slate-700" id="health-indicator-text">Operational</span>
                </div>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="p-4 rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-between"><div class="flex items-center gap-3"><i class="fa-solid fa-database text-slate-400"></i><span class="font-medium text-slate-700">Database</span></div><span class="text-xs font-bold px-2 py-1 rounded bg-green-100 text-green-700" id="status-database">Checking...</span></div>
                <div class="p-4 rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-between"><div class="flex items-center gap-3"><i class="fa-solid fa-robot text-slate-400"></i><span class="font-medium text-slate-700">AI Matching Engine</span></div><span class="text-xs font-bold px-2 py-1 rounded bg-green-100 text-green-700" id="status-ai">Checking...</span></div>
                <div class="p-4 rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-between"><div class="flex items-center gap-3"><i class="fa-solid fa-filter text-slate-400"></i><span class="font-medium text-slate-700">Enrichment Queue</span></div><span class="text-xs font-bold px-2 py-1 rounded bg-green-100 text-green-700" id="status-enrichment">Checking...</span></div>
                <div class="p-4 rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-between"><div class="flex items-center gap-3"><i class="fa-solid fa-shield-halved text-slate-400"></i><span class="font-medium text-slate-700">FMCSA Gateway</span></div><span class="text-xs font-bold px-2 py-1 rounded bg-green-100 text-green-700" id="status-fmcsa">Checking...</span></div>
              </div>
              <div class="mt-6 text-center">
                <button onclick="requestSystemHealth()" class="text-xs font-bold text-lmdr-blue hover:text-blue-700 flex items-center justify-center gap-2 mx-auto"><i class="fa-solid fa-rotate"></i> Refresh Status</button>
                <p class="text-[10px] text-slate-400 mt-2" id="health-last-updated">Last checked: Never</p>
              </div>
            </div>
            <div class="bg-white rounded-xl p-6 shadow-sm border border-slate-200 hidden" id="health-issues-panel">
              <h3 class="font-bold text-slate-900 mb-4">Active Incidents</h3>
              <ul class="space-y-2" id="health-issues-list"></ul>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- Candidate Detail Modal -->
  <div id="candidate-modal" class="hidden fixed inset-0 z-50">
    <div class="modal-overlay absolute inset-0" onclick="closeModal()"></div>
    <div class="absolute right-0 top-0 h-full w-full max-w-lg bg-white shadow-2xl overflow-y-auto">
      <div class="sticky top-0 bg-white border-b border-slate-200 p-4 flex justify-between items-center z-10">
        <h2 class="font-bold text-slate-900">Candidate Details</h2>
        <button onclick="closeModal()" class="w-8 h-8 rounded-lg hover:bg-slate-100 flex items-center justify-center"><i class="fa-solid fa-xmark text-slate-400"></i></button>
      </div>
      <div class="p-6">
        <div class="flex items-center gap-4 mb-6">
          <div class="w-16 h-16 rounded-full bg-lmdr-blue flex items-center justify-center text-white text-xl font-bold" id="modal-initials">--</div>
          <div>
            <h3 class="font-bold text-xl text-slate-900" id="modal-name">--</h3>
            <div class="flex items-center gap-2 mt-1">
              <span class="text-xs px-2 py-0.5 rounded-full font-bold" id="modal-status-badge">--</span>
              <span class="text-xs text-slate-500" id="modal-match-score">-- Match</span>
            </div>
          </div>
        </div>
        <div class="bg-slate-50 rounded-xl p-4 mb-6">
          <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3">Contact</h4>
          <div class="space-y-2">
            <div class="flex items-center gap-3"><i class="fa-solid fa-phone text-slate-400 w-4"></i><span class="text-sm" id="modal-phone">--</span></div>
            <div class="flex items-center gap-3"><i class="fa-solid fa-envelope text-slate-400 w-4"></i><span class="text-sm" id="modal-email">--</span></div>
            <div class="flex items-center gap-3"><i class="fa-solid fa-location-dot text-slate-400 w-4"></i><span class="text-sm" id="modal-location">--</span></div>
          </div>
        </div>
        <div class="bg-slate-50 rounded-xl p-4 mb-6">
          <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3">Qualifications</h4>
          <div class="flex flex-wrap gap-2" id="modal-qualifications"></div>
        </div>
        <div id="modal-message-section" class="hidden bg-blue-50 rounded-xl p-4 mb-6">
          <h4 class="text-xs font-bold text-blue-600 uppercase tracking-wider mb-2">Driver's Message</h4>
          <p class="text-sm text-slate-700 italic" id="modal-message">--</p>
        </div>
        <div class="mb-6">
          <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3">Move to Stage</h4>
          <div class="grid grid-cols-3 gap-2" id="modal-status-buttons"></div>
        </div>
        <div class="mb-6">
          <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3">Notes</h4>
          <textarea id="modal-notes" rows="3" placeholder="Add notes about this candidate..." class="w-full px-3 py-2 border border-slate-200 rounded-xl text-sm focus:border-lmdr-blue focus:outline-none resize-none"></textarea>
          <button onclick="saveNotes()" class="mt-2 bg-slate-900 text-white text-xs font-bold px-4 py-2 rounded-lg hover:bg-slate-800">Save Notes</button>
        </div>
        <div>
          <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3">History</h4>
          <div id="modal-history" class="space-y-2 text-sm"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Chat Modal -->
  <div id="chat-modal" class="hidden fixed inset-0 z-[60] flex items-center justify-end bg-slate-900/50 backdrop-blur-sm">
    <div class="bg-white h-full w-full max-w-md shadow-2xl flex flex-col animate-slide-in-right">
      <div class="p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50">
        <div class="flex items-center gap-4">
          <div class="w-12 h-12 bg-lmdr-blue text-white rounded-xl flex items-center justify-center font-bold text-lg" id="chat-driver-icon">D</div>
          <div>
            <h3 class="font-black text-slate-900" id="chat-driver-name">Driver Name</h3>
            <div class="flex items-center gap-1.5 text-xs font-bold text-emerald-500 uppercase tracking-wider"><span class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></span>Driver Active</div>
          </div>
        </div>
        <div class="flex items-center gap-2">
          <button onclick="toggleScheduleMenu()" class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-bold hover:bg-slate-800 transition"><i class="fa-solid fa-calendar-plus mr-2"></i>Schedule</button>
          <button onclick="closeChat()" class="w-10 h-10 rounded-full hover:bg-slate-200 flex items-center justify-center text-slate-400 transition"><i class="fa-solid fa-times text-xl"></i></button>
        </div>
        <div id="schedule-menu" class="hidden absolute right-6 top-20 w-48 bg-white rounded-xl shadow-2xl border border-slate-100 p-2 z-[70]">
          <button onclick="requestAvailability()" class="w-full text-left px-3 py-2.5 rounded-lg text-sm font-bold text-slate-700 hover:bg-slate-50 transition"><i class="fa-solid fa-clock-rotate-left mr-2 text-lmdr-blue"></i>Request Times</button>
          <button onclick="showProposalModal()" class="w-full text-left px-3 py-2.5 rounded-lg text-sm font-bold text-slate-700 hover:bg-slate-50 transition border-t border-slate-50"><i class="fa-solid fa-calendar-check mr-2 text-emerald-500"></i>Propose Specific...</button>
        </div>
      </div>
      <div id="chat-messages" class="flex-1 overflow-y-auto p-6 space-y-4 bg-slate-50/50"></div>
      <div class="p-4 border-t border-slate-100 bg-white">
        <form id="chat-form" class="flex gap-2">
          <input type="text" id="chat-input" placeholder="Type a message..." class="flex-1 bg-slate-100 border-none rounded-xl px-4 py-3 focus:ring-2 focus:ring-lmdr-blue transition text-sm font-medium">
          <button type="submit" class="bg-lmdr-blue text-white w-12 h-12 rounded-xl flex items-center justify-center hover:bg-blue-700 transition shadow-lg shadow-blue-200"><i class="fa-solid fa-paper-plane"></i></button>
        </form>
      </div>
    </div>
  </div>

  <!-- Feature Tracker -->
  <script src="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/js/feature-tracker.js"></script>

  <!-- CDN Module Loading (ordered by dependency) -->
  <script src="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/recruiter/js/dashboard-config.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/recruiter/js/dashboard-bridge.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/recruiter/js/dashboard-render.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/recruiter/js/dashboard-logic.js"></script>

  <!-- Bootstrap -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      DashboardLogic.init();
    });
  </script>

</body>
</html>
