<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Posting — VelocityMatch Recruiter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>tailwind.config = { theme: { extend: { colors: { lmdr: { dark: '#0f172a', blue: '#2563eb', yellow: '#fbbf24' } } } } };</script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/recruiter/recruiter-design-system.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/recruiter/css/recruiter-social-posting.css">
</head>

<body class="min-h-screen">
    <div class="glass border-b border-slate-700/50 px-6 py-4 flex items-center justify-between">
        <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center">
                <i class="fas fa-share-alt text-white text-sm"></i>
            </div>
            <div>
                <h1 class="text-lg font-bold text-white">Social Posting</h1>
                <p class="text-xs text-slate-400">Facebook &amp; LinkedIn job distribution</p>
            </div>
        </div>
        <button id="newPostBtn" class="btn-primary px-4 py-2 rounded-lg text-white text-sm font-medium">
            <i class="fas fa-plus mr-2"></i>Create Post
        </button>
    </div>

    <div class="px-6 py-4 grid grid-cols-4 gap-4">
        <div class="stat-card rounded-xl p-4"><p class="text-xs text-slate-400 mb-1">Posts Published</p><p class="text-2xl font-bold text-white" id="statPublished">—</p></div>
        <div class="stat-card rounded-xl p-4"><p class="text-xs text-slate-400 mb-1">Total Reach</p><p class="text-2xl font-bold text-white" id="statReach">—</p></div>
        <div class="stat-card rounded-xl p-4"><p class="text-xs text-slate-400 mb-1">Engagements</p><p class="text-2xl font-bold text-white" id="statEngagement">—</p></div>
        <div class="stat-card rounded-xl p-4"><p class="text-xs text-slate-400 mb-1">Accounts Connected</p><p class="text-2xl font-bold text-white" id="statAccounts">—</p></div>
    </div>

    <!-- Account Connection -->
    <div class="px-6 mb-4">
        <h2 class="text-sm font-semibold text-slate-300 mb-3">Connected Accounts</h2>
        <div class="grid grid-cols-2 gap-4">
            <div class="glass rounded-xl p-4 flex items-center justify-between" id="fbCard">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center"><i class="fab fa-facebook-f text-white"></i></div>
                    <div><p class="font-semibold text-white text-sm">Facebook Page</p><p class="text-xs text-slate-400" id="fbStatus">Not connected</p></div>
                </div>
                <button id="fbConnectBtn" onclick="connectAccount('facebook')" class="btn-fb px-3 py-1.5 rounded-lg text-xs text-white">Connect</button>
            </div>
            <div class="glass rounded-xl p-4 flex items-center justify-between" id="liCard">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-blue-700 flex items-center justify-center"><i class="fab fa-linkedin-in text-white"></i></div>
                    <div><p class="font-semibold text-white text-sm">LinkedIn</p><p class="text-xs text-slate-400" id="liStatus">Not connected</p></div>
                </div>
                <button id="liConnectBtn" onclick="connectAccount('linkedin')" class="btn-li px-3 py-1.5 rounded-lg text-xs text-white">Connect</button>
            </div>
        </div>
    </div>

    <!-- Tabs -->
    <div class="px-6 flex gap-6 border-b border-slate-700/50">
        <button class="tab-active pb-3 text-sm font-medium" data-tab="posts" onclick="switchTab('posts',this)"><i class="fas fa-list mr-2"></i>Posts</button>
        <button class="tab-inactive pb-3 text-sm font-medium" data-tab="scheduled" onclick="switchTab('scheduled',this)"><i class="fas fa-clock mr-2"></i>Scheduled</button>
    </div>

    <div id="tab-posts" class="px-6 py-4 fade-in">
        <div class="grid grid-cols-1 gap-3" id="postList">
            <div class="glass rounded-xl p-8 text-center text-slate-500"><i class="fas fa-share-alt text-3xl mb-3 block opacity-30"></i><p class="text-sm">No posts yet. Create your first social post.</p></div>
        </div>
    </div>

    <div id="tab-scheduled" class="px-6 py-4 fade-in hidden">
        <div class="grid grid-cols-1 gap-3" id="scheduledList">
            <div class="glass rounded-xl p-8 text-center text-slate-500"><i class="fas fa-clock text-3xl mb-3 block opacity-30"></i><p class="text-sm">No scheduled posts.</p></div>
        </div>
    </div>

    <!-- Post Composer Modal -->
    <div id="postModal" class="fixed inset-0 modal-overlay z-50 flex items-center justify-center hidden">
        <div class="glass rounded-2xl w-full max-w-3xl mx-4 max-h-[90vh] overflow-y-auto fade-in">
            <div class="flex items-center justify-between p-5 border-b border-slate-700/50">
                <h2 class="text-base font-bold text-white"><i class="fas fa-share-alt mr-2 text-purple-400"></i>Create Social Post</h2>
                <button onclick="closeModal('postModal')" class="text-slate-400 hover:text-white"><i class="fas fa-times"></i></button>
            </div>
            <div class="p-5 grid grid-cols-2 gap-6">
                <!-- Left: Composer -->
                <div class="space-y-3">
                    <div>
                        <label class="text-xs font-medium text-slate-400 mb-2 block">Platforms</label>
                        <div class="flex gap-3">
                            <div class="platform-toggle rounded-lg p-3 flex items-center gap-2 flex-1" id="toggleFb" onclick="togglePlatform('facebook')"><i class="fab fa-facebook-f text-blue-400"></i><span class="text-sm text-slate-300">Facebook</span></div>
                            <div class="platform-toggle rounded-lg p-3 flex items-center gap-2 flex-1" id="toggleLi" onclick="togglePlatform('linkedin')"><i class="fab fa-linkedin-in text-blue-500"></i><span class="text-sm text-slate-300">LinkedIn</span></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex items-center justify-between mb-1">
                            <label class="text-xs font-medium text-slate-400">Post Content *</label>
                            <span id="charCount" class="text-xs char-counter text-slate-400">0 chars</span>
                        </div>
                        <textarea id="postContent" rows="5" placeholder="Write your post... Use emojis for Facebook, professional tone for LinkedIn." class="w-full px-3 py-2.5 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white placeholder-slate-500 focus:outline-none focus:border-purple-500 resize-none" oninput="updatePreview()"></textarea>
                    </div>
                    <div>
                        <label class="text-xs font-medium text-slate-400 mb-1 block">Link URL (optional)</label>
                        <input id="postLink" type="url" placeholder="https://..." class="w-full px-3 py-2.5 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white placeholder-slate-500 focus:outline-none focus:border-purple-500">
                    </div>
                    <div>
                        <label class="text-xs font-medium text-slate-400 mb-1 block">Attach to Job (optional)</label>
                        <select id="postJobId" class="w-full px-3 py-2.5 bg-slate-800 border border-slate-700 rounded-lg text-sm text-slate-300 focus:outline-none focus:border-purple-500"><option value="">No job attached</option></select>
                    </div>
                    <div>
                        <label class="text-xs font-medium text-slate-400 mb-1 block">Schedule</label>
                        <div class="flex gap-3">
                            <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="postSched" value="immediate" checked class="text-purple-500"><span class="text-sm text-slate-300">Now</span></label>
                            <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="postSched" value="scheduled" class="text-purple-500"><span class="text-sm text-slate-300">Schedule</span></label>
                        </div>
                        <input id="postSchedTime" type="datetime-local" class="mt-2 px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:outline-none focus:border-purple-500 hidden w-full">
                    </div>
                    <button onclick="generateAIContent()" class="w-full px-3 py-2 rounded-lg border border-purple-600/50 text-purple-400 text-sm hover:bg-purple-600/10 transition-all"><i class="fas fa-magic mr-2"></i>Generate AI Content for Selected Job</button>
                </div>
                <!-- Right: Preview -->
                <div>
                    <p class="text-xs font-medium text-slate-400 mb-3">Preview</p>
                    <div id="previewFb" class="fb-preview p-4 mb-3 hidden">
                        <div class="flex items-center gap-2 mb-3">
                            <div class="w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center"><i class="fas fa-truck text-white text-xs"></i></div>
                            <div><p class="text-xs font-semibold text-white">VelocityMatch Recruiting</p><p class="text-xs text-slate-400">Just now</p></div>
                        </div>
                        <p class="text-sm text-slate-200 whitespace-pre-wrap" id="fbPreviewText">Your Facebook post will appear here...</p>
                        <div class="mt-3 pt-3 border-t border-slate-700 flex gap-4 text-xs text-slate-400"><span><i class="fas fa-thumbs-up mr-1"></i>Like</span><span><i class="fas fa-comment mr-1"></i>Comment</span><span><i class="fas fa-share mr-1"></i>Share</span></div>
                    </div>
                    <div id="previewLi" class="li-preview p-4 hidden">
                        <div class="flex items-center gap-2 mb-3">
                            <div class="w-8 h-8 rounded-full bg-blue-700 flex items-center justify-center"><i class="fas fa-truck text-white text-xs"></i></div>
                            <div><p class="text-xs font-semibold text-white">VelocityMatch Recruiting</p><p class="text-xs text-slate-400">Just now</p></div>
                        </div>
                        <p class="text-sm text-slate-200 whitespace-pre-wrap" id="liPreviewText">Your LinkedIn post will appear here...</p>
                        <div class="mt-3 pt-3 border-t border-slate-700 flex gap-4 text-xs text-slate-400"><span><i class="fas fa-thumbs-up mr-1"></i>Like</span><span><i class="fas fa-comment mr-1"></i>Comment</span><span><i class="fas fa-share mr-1"></i>Repost</span></div>
                    </div>
                    <div id="previewEmpty" class="text-center py-8 text-slate-500 text-xs"><i class="fas fa-eye text-2xl mb-2 block opacity-30"></i>Select a platform to see preview</div>
                </div>
            </div>
            <div class="flex gap-3 p-5 border-t border-slate-700/50">
                <button onclick="closeModal('postModal')" class="flex-1 px-4 py-2 rounded-lg border border-slate-600 text-slate-300 text-sm">Cancel</button>
                <button onclick="savePost('draft')" class="px-4 py-2 rounded-lg border border-purple-600 text-purple-400 text-sm">Save Draft</button>
                <button onclick="savePost('publish')" class="btn-primary flex-1 px-4 py-2 rounded-lg text-white text-sm font-medium"><i class="fas fa-paper-plane mr-2"></i>Publish</button>
            </div>
        </div>
    </div>

    <!-- CDN Modules -->
    <script src="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/recruiter/js/recruiter-social-posting-bridge.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/recruiter/js/recruiter-social-posting-logic.js"></script>
    <script>document.addEventListener('DOMContentLoaded', function() { SocialPostingLogic.init(); });</script>
</body>

</html>
