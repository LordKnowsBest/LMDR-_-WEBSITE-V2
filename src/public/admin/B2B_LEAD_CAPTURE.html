<!DOCTYPE html>
<html class="dark" lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover"/>
  <title>VelocityMatch | Lead Capture</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            'lmdr-blue': '#2563eb', 'lmdr-deep': '#1e40af',
            'lmdr-yellow': '#fbbf24', 'lmdr-dark': '#0f172a'
          },
          fontFamily: { 'd': ['Inter', 'sans-serif'] }
        }
      }
    };
  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/admin/css/b2b-lead-capture.css"/>
</head>
<body class="font-d antialiased bg-slate-950 text-white">
  <div id="toastContainer" class="fixed top-4 right-4 left-4 md:left-auto z-[100] space-y-2"></div>

  <div class="flex flex-col h-full">
    <header class="flex-shrink-0 border-b border-slate-800 bg-slate-900 px-4 md:px-6 py-4 safe-top">
      <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
        <div>
          <h1 class="text-xl font-black tracking-tight">Lead Capture</h1>
          <p class="text-xs text-slate-400 mt-0.5">Event & field lead capture</p>
        </div>
        <button onclick="resetForm()" class="touch-target touch-active flex items-center gap-1 px-3 py-2 rounded-lg bg-slate-800 border border-slate-700 text-sm text-slate-300 hover:bg-slate-700 self-end md:self-auto">
          <span class="material-symbols-outlined text-[18px]">restart_alt</span>Reset
        </button>
      </div>
    </header>

    <main class="flex-1 overflow-auto scrollbar-thin">
      <div class="p-4 md:p-6 max-w-2xl mx-auto space-y-6">

        <!-- Event Context -->
        <div class="bg-slate-900 border border-slate-800 rounded-xl p-4">
          <h2 class="text-sm font-bold text-slate-200 uppercase tracking-wider mb-3">Event Info</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
            <div>
              <label class="text-xs text-slate-400 block mb-1">Event Name</label>
              <input id="eventName" type="text" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-sm text-white" placeholder="e.g., GATS 2026"/>
            </div>
            <div>
              <label class="text-xs text-slate-400 block mb-1">Capture Source</label>
              <select id="captureSource" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-sm text-white">
                <option value="event_booth">Event Booth</option>
                <option value="business_card">Business Card</option>
                <option value="qr_code">QR Code</option>
                <option value="referral">Referral</option>
                <option value="other">Other</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Lead Form -->
        <div class="bg-slate-900 border border-slate-800 rounded-xl p-4">
          <h2 class="text-sm font-bold text-slate-200 uppercase tracking-wider mb-3">Lead Details</h2>
          <div class="space-y-3">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
              <div>
                <label class="text-xs text-slate-400 block mb-1">Company Name *</label>
                <input id="companyName" type="text" required class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-sm text-white" placeholder="Carrier company name"/>
              </div>
              <div>
                <label class="text-xs text-slate-400 block mb-1">DOT Number</label>
                <input id="dotNumber" type="text" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-sm text-white" placeholder="Optional"/>
              </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
              <div>
                <label class="text-xs text-slate-400 block mb-1">Contact Name *</label>
                <input id="contactName" type="text" required class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-sm text-white" placeholder="Full name"/>
              </div>
              <div>
                <label class="text-xs text-slate-400 block mb-1">Role / Title</label>
                <input id="contactRole" type="text" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-sm text-white" placeholder="e.g., Owner, Recruiter"/>
              </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
              <div>
                <label class="text-xs text-slate-400 block mb-1">Email</label>
                <input id="contactEmail" type="email" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-sm text-white" placeholder="email@example.com"/>
              </div>
              <div>
                <label class="text-xs text-slate-400 block mb-1">Phone</label>
                <input id="contactPhone" type="tel" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-sm text-white" placeholder="(555) 123-4567"/>
              </div>
            </div>
            <div>
              <label class="text-xs text-slate-400 block mb-1">Region</label>
              <input id="region" type="text" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-sm text-white" placeholder="e.g., Southeast, TX/OK"/>
            </div>
            <div>
              <label class="text-xs text-slate-400 block mb-1">Fleet Size</label>
              <select id="fleetSize" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-sm text-white">
                <option value="">Unknown</option>
                <option value="10">1-10</option>
                <option value="50">11-50</option>
                <option value="100">51-100</option>
                <option value="250">101-250</option>
                <option value="500">250+</option>
              </select>
            </div>
            <div>
              <label class="text-xs text-slate-400 block mb-1">Tags</label>
              <input id="tags" type="text" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-sm text-white" placeholder="e.g., hot_lead, dry_van, regional"/>
            </div>
            <div>
              <label class="text-xs text-slate-400 block mb-1">Notes</label>
              <textarea id="notes" rows="3" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-sm text-white resize-none" placeholder="Conversation notes, follow-up reminders..."></textarea>
            </div>
          </div>
        </div>

        <!-- Follow-up -->
        <div class="bg-slate-900 border border-slate-800 rounded-xl p-4">
          <h2 class="text-sm font-bold text-slate-200 uppercase tracking-wider mb-3">Follow-up</h2>
          <div class="flex items-center gap-3">
            <label class="flex items-center gap-2 text-sm text-slate-300">
              <input type="checkbox" id="followUp" class="rounded bg-slate-700 border-slate-600 text-blue-600" checked/> Set follow-up reminder
            </label>
            <select id="followUpDays" class="bg-slate-800 border border-slate-700 rounded text-sm px-2 py-1.5 text-slate-300">
              <option value="1">Tomorrow</option>
              <option value="2" selected>In 2 days</option>
              <option value="3">In 3 days</option>
              <option value="7">In 1 week</option>
            </select>
          </div>
        </div>

        <!-- Submit -->
        <button onclick="submitLead()" id="submitBtn" class="touch-target touch-active w-full py-3.5 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-bold text-base transition-colors flex items-center justify-center gap-2">
          <span class="material-symbols-outlined text-[20px]">person_add</span>
          Capture Lead
        </button>

        <div id="leadScoreCard" class="hidden bg-slate-900 border border-slate-800 rounded-xl p-4">
          <h2 class="text-sm font-bold text-slate-200 uppercase tracking-wider mb-3">AI Qualification</h2>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
            <div>
              <p class="text-xs text-slate-500">Score</p>
              <p id="leadScoreValue" class="text-xl font-black text-blue-400">0</p>
            </div>
            <div>
              <p class="text-xs text-slate-500">Class</p>
              <p id="leadClassValue" class="text-sm font-semibold text-slate-200">cold</p>
            </div>
            <div>
              <p class="text-xs text-slate-500">Owner</p>
              <p id="leadOwnerValue" class="text-sm font-semibold text-slate-200">Unassigned</p>
            </div>
            <div>
              <p class="text-xs text-slate-500">Opportunity</p>
              <p id="leadOppValue" class="text-sm font-semibold text-slate-200">No</p>
            </div>
          </div>
        </div>

        <!-- Recent Captures -->
        <div class="bg-slate-900 border border-slate-800 rounded-xl overflow-hidden">
          <div class="px-4 py-3 border-b border-slate-800">
            <h2 class="text-sm font-bold text-slate-200 uppercase tracking-wider">Recent Captures</h2>
          </div>
          <div id="recentCaptures" class="divide-y divide-slate-800/50 max-h-[200px] overflow-auto scrollbar-thin">
            <div class="p-4 text-center text-slate-500 text-sm">No captures this session</div>
          </div>
        </div>

      </div>
      <div class="safe-bottom"></div>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/admin/js/b2b-lead-capture-bridge.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LordKnowsBest/LMDR-_-WEBSITE-V2@main/src/public/admin/js/b2b-lead-capture-logic.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      LeadCaptureLogic.exposeGlobals();
      LeadCaptureLogic.init();
    });
  </script>
</body>
</html>
